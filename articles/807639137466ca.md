---
title: "auth0Âà©Áî®ÈñãÂßã„ÅÆË®≠ÂÆö"
emoji: "üë§"
type: "tech"
topics:
  - "oauth2"
  - "auth0"
published: true
published_at: "2024-04-24 09:56"
---

ÂÄã‰∫∫ÁöÑ„Å™ÂãâÂº∑„Åßauth0„Çí‰Ωø„Å£„Å¶„Åø„Çà„ÅÜ„Å®ÊÄù„Å£„Åü„Åå„ÄÅÊúÄÂàù„ÅÆË®≠ÂÆö„ÅßÊâã„Åì„Åö„Å£„Åü„ÅÆ„ÅßÂÇôÂøòÈå≤ÁöÑ„Å´„É°„É¢„ÄÇ

# ÂâçÊèê
- „Ç¢„Ç´„Ç¶„É≥„Éà‰ΩúÊàê„Åæ„ÅßÂÆå‰∫ÜÊ∏à„Åø
- ÁñéÈÄöÁ¢∫Ë™ç„Å®„Åó„Å¶auth0„Å´ÁôªÈå≤„Åó„Å¶„ÅÑ„Çã„É¶„Éº„Ç∂„Éº„ÅÆÊÉÖÂ†±„Çícurl„ÅßÂèñÂæó„Åó„Çà„ÅÜ„Å®„Åó„Åü
- curl„Ç≥„Éû„É≥„Éâ„ÅØ‰∏ãË®ò
```bash:zsh
curl --request POST \
  --url https://YOUR_DOMAIN/oauth/token \
  --header 'content-type: application/json' \
  --data '{"grant_type":"password","username": "YOUR_USERNAME","password": "YOUR_PASSWORD","audience": "YOUR_API_IDENTIFIER","client_id": "YOUR_CLIENT_ID","client_secret": "YOUR_CLIENT_SECRET"}'
```

# Grant Type
‰∏äË®òcurl„ÇíÂÆüË°å„Åó„Åü„Å®„Åì„Çç„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åü„ÄÇ
```
{"error":"unauthorized_client","error_description":"Grant type 'password' not allowed for the client.","error_uri":"https://auth0.com/docs/clients/client-grant-types"}
```
password„Å®„ÅÑ„ÅÜgrant type„ÅåË®±ÂèØ„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑ„Å®„ÅÆ„Åì„Å®„Å™„ÅÆ„Åß„ÄÅauth0„ÅÆÁîªÈù¢„Åã„ÇâË®≠ÂÆö„ÇíÂ§âÊõ¥„Åó„Åü„ÄÇ
ÁîªÈù¢Â∑¶„ÅÆ„É°„Éã„É•„Éº„ÅÆ`Applications` > `Applications` > `Advanced Settings` > `Grant Types` „Åß`password`„Å´„ÉÅ„Çß„ÉÉ„ÇØ„ÇíÂÖ•„Çå„Çã„ÄÇ
![](https://storage.googleapis.com/zenn-user-upload/e73b37acf82e-20230920.png)

# Default Connection
ÂÜçÂ∫¶curl„ÇíÂè©„Åè„Å®„ÄÅ‰∏ãË®ò„ÅÆ„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åü„ÄÇ
```
{"error":"server_error","error_description":"Authorization server not configured with default connection."}
```
Ë™ø„Åπ„Å¶„Åø„Çã„Å®Êé•Á∂ö„Åô„Çã„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆË®≠ÂÆö„Åå„Å™„ÅÑ„ÅÆ„Åß„Ç®„É©„Éº„Å´„Å™„Å£„Å¶„ÅÑ„Çã„Çâ„Åó„ÅÑ„ÄÇ


„Åæ„Åö„Éá„Éº„Çø„Éô„Éº„Çπ„ÅåÂ≠òÂú®„Åô„Çã„ÅãÁ¢∫Ë™ç„ÄÇ(`Authentication` > `Database`)
![](https://storage.googleapis.com/zenn-user-upload/eb6ffbeb3949-20230920.png)


Á¢∫Ë™ç„Åó„Åü„Éá„Éº„Çø„Éô„Éº„ÇπÂêç„Çí„ÄÅ`Settings` > `General` > `API Authorization Settings`„ÅÆ`Default Directory`„Å´Ë®≠ÂÆö„ÄÇ
![](https://storage.googleapis.com/zenn-user-upload/e16169096c54-20230920.png)

ÂÜçÂ∫¶curl„ÇíÂè©„Åè„Å®„É¨„Çπ„Éù„É≥„Çπ„ÅåËøîÂç¥„Åï„Çå„Åü„ÄÇ
```
{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkFMQmJPOF81eWx1eWd2bEhBSzhRbiJ9.eyJpc3MiOiJodHRwczovL2Rldi1lM3lidnBkZHNqbDNzYmQ3LnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2NTA5MWRhN2E4MDE2ZWQyNmZiODgyZmEiLCJhdWQiOiJodHRwczovL2Rldi1lM3lidnBkZHNqbDNzYmQ3LnVzLmF1dGgwLmNvbS9hcGkvdjIvIiwiaWF0IjoxNjk1MTcwODE4LCJleHAiOjE2OTUyNTcyMTgsImF6cCI6IlE0Y0NXZVhYVmw3OUFQcGZvVDhXUDFrN3p5Z1lES0p5Iiwic2NvcGUiOiJyZWFkOmN1cnJlbnRfdXNlciB1cGRhdGU6Y3VycmVudF91c2VyX21ldGFkYXRhIGRlbGV0ZTpjdXJyZW50X3VzZXJfbWV0YWRhdGEgY3JlYXRlOmN1cnJlbnRfdXNlcl9tZXRhZGF0YSBjcmVhdGU6Y3VycmVudF91c2VyX2RldmljZV9jcmVkZW50aWFscyBkZWxldGU6Y3VycmVudF91c2VyX2RldmljZV9jcmVkZW50aWFscyB1cGRhdGU6Y3VycmVudF91c2VyX2lkZW50aXRpZXMiLCJndHkiOiJwYXNzd29yZCJ9.JhMU-uc2cyoxYq9ASyIef-Lal8ZeobEnE1L7x5DmH4SGe-M52H6i5s_MNYibuDOTiJvjo1FjVCEI8h6jwAqr6GslBXaOqU8HeISfCUEDcSIOu2xp71t02TIn1-yaVHkdaWkBt0mmxDnwQj5ufjaWguzMfsAL5CzN2a6fWsLD5Ez4BKzkV151giuaBgua6boD11H-O-cr-riv9tlgVt-oTC6Y_9yGMSRMhXlwJ1BlDJLSKlsQKrfPFjsj6NvoUAcZ3vAMSUms8YcoT_BjHmURMRWwFScBeW_Km030McKY6jTPVRf_rIjputwmMKRNvfQKQrYViOX4e0FltOipJ2xQEA","scope":"read:current_user update:current_user_metadata delete:current_user_metadata create:current_user_metadata create:current_user_device_credentials delete:current_user_device_credentials update:current_user_identities","expires_in":86400,"token_type":"Bearer"}
```
